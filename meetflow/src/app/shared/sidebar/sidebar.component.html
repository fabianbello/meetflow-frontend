<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
<!-- MDB -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.4.0/mdb.min.css" rel="stylesheet" />

<link href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-dark@4/dark.css" rel="stylesheet" />


<div class="side-nav-content" >
  <ul class="nav-list" [ngClass]="{ 'nav-list-open': sideNavStatus }">
    <br />
    <br>
    <p class="" style="padding-left: 80px" *ngIf="isProyectos">
      Proyectos

      <button class="button1" data-toggle="tooltip" data-placement="right" title="Crear un proyecto"
        (click)="agregarProjectNew()">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"
          style="fill: rgba(255, 255, 255, 1);transform: msFilter;">
          <path
            d="M20 5h-9.586L8.707 3.293A.997.997 0 0 0 8 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zm-4 9h-3v3h-2v-3H8v-2h3V9h2v3h3v2z">
          </path>
        </svg>
      </button>

      <button class="button1" data-toggle="tooltip" data-placement="right" title="Refrescar lista de proyectos"
      (click)="listProjectsInicial();">
      <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24"
        style="fill: rgba(186, 223, 168, 1);transform: ;msFilter:;">
        <path
          d="M10 11H7.101l.001-.009a4.956 4.956 0 0 1 .752-1.787 5.054 5.054 0 0 1 2.2-1.811c.302-.128.617-.226.938-.291a5.078 5.078 0 0 1 2.018 0 4.978 4.978 0 0 1 2.525 1.361l1.416-1.412a7.036 7.036 0 0 0-2.224-1.501 6.921 6.921 0 0 0-1.315-.408 7.079 7.079 0 0 0-2.819 0 6.94 6.94 0 0 0-1.316.409 7.04 7.04 0 0 0-3.08 2.534 6.978 6.978 0 0 0-1.054 2.505c-.028.135-.043.273-.063.41H2l4 4 4-4zm4 2h2.899l-.001.008a4.976 4.976 0 0 1-2.103 3.138 4.943 4.943 0 0 1-1.787.752 5.073 5.073 0 0 1-2.017 0 4.956 4.956 0 0 1-1.787-.752 5.072 5.072 0 0 1-.74-.61L7.05 16.95a7.032 7.032 0 0 0 2.225 1.5c.424.18.867.317 1.315.408a7.07 7.07 0 0 0 2.818 0 7.031 7.031 0 0 0 4.395-2.945 6.974 6.974 0 0 0 1.053-2.503c.027-.135.043-.273.063-.41H22l-4-4-4 4z">
        </path>
      </svg>
    </button>
      
    </p>

    <p class="" style="padding-left: 29px" *ngIf="isReuniones">
      <button data-toggle="tooltip" data-placement="right" title="Volver a la lista de proyectos" class="button1"
        (click)="volverProyects()">
        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"
          style="fill: rgba(255, 255, 255, 1);transform: msFilter;">
          <path
            d="M11 6.914V2.586L6.293 7.293l-3.774 3.774 3.841 3.201L11 18.135V13.9c8.146-.614 11 4.1 11 4.1 0-2.937-.242-5.985-2.551-8.293C16.765 7.022 12.878 6.832 11 6.914z">
          </path>
        </svg>
      </button>

      PROYECTOS

      <script>
        $(function () {
          $('[data-toggle="tooltip"]').tooltip()
        });
      </script>

      <button class="button1" data-toggle="tooltip" data-placement="right" title="Refrescar lista de reuniones"
        (click)="listMeetingsInicialRefresh();">
        <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24"
          style="fill: rgba(186, 223, 168, 1);transform: ;msFilter:;">
          <path
            d="M10 11H7.101l.001-.009a4.956 4.956 0 0 1 .752-1.787 5.054 5.054 0 0 1 2.2-1.811c.302-.128.617-.226.938-.291a5.078 5.078 0 0 1 2.018 0 4.978 4.978 0 0 1 2.525 1.361l1.416-1.412a7.036 7.036 0 0 0-2.224-1.501 6.921 6.921 0 0 0-1.315-.408 7.079 7.079 0 0 0-2.819 0 6.94 6.94 0 0 0-1.316.409 7.04 7.04 0 0 0-3.08 2.534 6.978 6.978 0 0 0-1.054 2.505c-.028.135-.043.273-.063.41H2l4 4 4-4zm4 2h2.899l-.001.008a4.976 4.976 0 0 1-2.103 3.138 4.943 4.943 0 0 1-1.787.752 5.073 5.073 0 0 1-2.017 0 4.956 4.956 0 0 1-1.787-.752 5.072 5.072 0 0 1-.74-.61L7.05 16.95a7.032 7.032 0 0 0 2.225 1.5c.424.18.867.317 1.315.408a7.07 7.07 0 0 0 2.818 0 7.031 7.031 0 0 0 4.395-2.945 6.974 6.974 0 0 0 1.053-2.503c.027-.135.043-.273.063-.41H22l-4-4-4 4z">
          </path>
        </svg>
      </button>

    </p>

    <!-- BUSCADOR -->
    <div class="input-group rounded">
      <mdb-form-control [formGroup]="searchForm" (ngSubmit)="searchP()" class="form-white">
        <input mdbInput type="search" id="formWhite" class="form-control" formControlName="name" />

        <label mdbLabel class="form-label" for="formWhite">Buscar</label>
      </mdb-form-control>
      <button data-toggle="tooltip" data-placement="right" title="Buscar" class="button" type="submit"
        (click)="searchP()" id="button-addon2" data-mdb-ripple-color="dark"
        style="left: 8px; font-size: 50%; color: white; border-color: transparent; background-color:transparent">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
          style="fill: rgba(255, 255, 255, 1);transform: msFilter">
          <path
            d="M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z">
          </path>
          <path
            d="M11.412 8.586c.379.38.588.882.588 1.414h2a3.977 3.977 0 0 0-1.174-2.828c-1.514-1.512-4.139-1.512-5.652 0l1.412 1.416c.76-.758 2.07-.756 2.826-.002z">
          </path>
        </svg>
      </button>
      <span *ngIf="isReuniones">
        <button data-toggle="tooltip" data-placement="right" title="Añadir una reunión al proyecto"
          *ngIf="currentMeeting === ''" class="button1" (click)="addMeeting()">
          <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"
            style="fill: rgba(255, 255, 255, 1);transform: msFilter">
            <path
              d="M12 2C6.486 2 2 5.589 2 10c0 2.907 1.897 5.515 5 6.934V22l5.34-4.005C17.697 17.853 22 14.32 22 10c0-4.411-4.486-8-10-8zm4 9h-3v3h-2v-3H8V9h3V6h2v3h3v2z">
            </path>
          </svg>
        </button>

      </span>

    </div>
    <br />

    <!-- SECTOR PROYECTOS -->
    <div class="scrollinging" *ngIf="isProyectos">
      <li class="nav-list-item" *ngFor="let project of projects">
        <div class="" role="group" aria-label="" style="color: white; position: center">
          <div class="btn-group">
            <button type="button"
              style="width: 230px; fill: 100%; justify-content: left; align-items: left; text-align: left"
              (click)="editProject(project._id, project.shortName)" class="btn btn-secondary"> <svg
                xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                style="fill: rgba(250, 249, 249, 1);transform: msFilter">
                <path
                  d="M20 5h-8.586L9.707 3.293A.997.997 0 0 0 9 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zM4 19V7h16l.002 12H4z">
                </path>
              </svg> &nbsp;{{project.shortName}}</button>
            <button *ngIf="false" type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split"
              data-bs-toggle="dropdown" aria-expanded="false" data-bs-reference="parent">
              <span class="visually-hidden">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu" style="position: absolute; justify-content: left; width: 250px;">
              <li><a class="dropdown-item" (click)="editProject(project._id, project.shortName)"
                  style="cursor: pointer;">Editar</a></li>
              <li><a class="dropdown-item" (click)="addMember(project._id)" style="cursor: pointer;">Agregar
                  miembros</a></li>
              <li><a class="dropdown-item" (click)="borrarPP(project._id)" style="cursor: pointer;">Elminar</a></li>
            </ul>
          </div>
        </div>
      </li>
    </div>

    <!-- PROYECTO SELECCIONADO -->
    <button *ngIf="isReuniones" type="button" class="btn btn-secondary"
      style="width: 277px; fill: 100%; justify-content: left; align-items: left; text-align: left; color: rgb(61, 61, 61); background-color: rgb(235, 235, 235);">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="fill: rgb(26, 26, 26);">
        <path
          d="M2.165 19.551c.186.28.499.449.835.449h15c.4 0 .762-.238.919-.606l3-7A.998.998 0 0 0 21 11h-1V7c0-1.103-.897-2-2-2h-6.1L9.616 3.213A.997.997 0 0 0 9 3H4c-1.103 0-2 .897-2 2v14h.007a1 1 0 0 0 .158.551zM17.341 18H4.517l2.143-5h12.824l-2.143 5zM18 7v4H6c-.4 0-.762.238-.919.606L4 14.129V7h14z">
        </path>
      </svg> &nbsp;{{ currentProject }}
      <span class="visually-hidden">Toggle Dropdown</span>
    </button>
    <button *ngIf="isReuniones && isOwner" type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split"
      style="position: absolute; left: 230px;" data-bs-toggle="dropdown">
      <span class="visually-hidden">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu" style="position: relative; justify-content: left; width: 250px;">
      <li><a class="dropdown-item" (click)="editProject(projectSelectedId,currentProject)"
          style="cursor: pointer;">Editar</a></li>
      <li><a class="dropdown-item" (click)="addMember(projectSelectedId)" style="cursor: pointer;">Agregar
          miembros</a></li>
      <li><a class="dropdown-item" (click)="addMeeting()" style=" cursor: pointer;">Añadir una reunión</a></li>
      <li><a class="dropdown-item" (click)="borrarPP(projectSelectedId)" style="cursor: pointer;">Elminar</a></li>
    </ul>

    <ul class="dropdown-menu" style="justify-content: left; bottom: 50px; top:500px; width: 250px;">
      <li><a class="dropdown-item" (click)="editProject(projectSelectedId, currentProject)"
          style="cursor: pointer;">Editar</a></li>
      <li><a class="dropdown-item" (click)="addMember(projectSelectedId)" style="cursor: pointer;">Agregar
          miembros</a></li>
      <li><a class="dropdown-item" (click)="borrarPP(projectSelectedId)" style="cursor: pointer;">Elminar</a></li>
    </ul>

    <!-- SECTOR REUNIONES -->
    <div class="scrollinging" *ngIf="isReuniones">
      <li class="nav-list-item" *ngFor="let meeting of meetings; let m = index">
        <div>
          <input type="radio" class="btn-check" name="meeting.name " [id]="meeting._id" autocomplete="off"
            value="meeting 1" style="left: 50px;" />
          <label class="btn btn-outline"
            style="width: 230px; fill: 100%; justify-content: left; align-items: left; text-align: left"
            for="{{ meeting._id }}" (click)="editMeeting(meeting._id, meeting.name)">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="24" height="24" viewBox="0 0 24 24">
              <path
                d="M12 2C6.486 2 2 5.589 2 10c0 2.907 1.897 5.515 5 6.934V22l5.34-4.005C17.697 17.853 22 14.32 22 10c0-4.411-4.486-8-10-8zm2 11H7v-2h7v2zm3-4H7V7h10v2z">
              </path>
            </svg>
            <a style="padding-left: 20px;"> {{ meeting.name }} </a>
            <!-- <a style="padding-left: 20px;"> Reunión {{m}} </a>  -->
            <!-- MENU DESPLEGABLE -->
            <button *ngIf="isOwner" type="button" class="btn btn-secondary dropdown-toggle dropdown-toggle-split"
              style="position: absolute; left: 230px;" data-bs-toggle="dropdown" aria-expanded="false"
              data-bs-reference="parent">
              <span class="visually-hidden">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu" style="position: absolute; justify-content: left; width: 250px;">
              <!--     <li><a class="dropdown-item" (click)="editProject(meeting._id, meeting.name)"
                  style="cursor: pointer;">Editar</a></li> -->
              <!--      <li><a class="dropdown-item" (click)="addMember(meeting._id)" style="cursor: pointer;">Agregar
                  invitado</a></li> -->
              <li><a class="dropdown-item" (click)="borrarMM(meeting._id)" style="cursor: pointer;">Elminar</a></li>
            </ul>
          </label>
        </div>
      </li>
    </div>
  </ul>
</div>